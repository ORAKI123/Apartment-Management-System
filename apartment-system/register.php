<?php session_start(); require_once 'includes/db.php'; $err=''; $succ=''; if($_SERVER['REQUEST_METHOD']==='POST'){ $u=trim($_POST['username']); $p=$_POST['password']; $c=$_POST['confirm']; if($p!==$c){ $err='Passwords do not match.'; } else { $h=password_hash($p,PASSWORD_DEFAULT); try{ $pdo->prepare('INSERT INTO users (username,password,role,status) VALUES (?,?,"tenant","active")')->execute([$u,$h]); $succ='Registered. You can login now.'; } catch(Exception $e){ $err='Username taken.'; } } } ?> <!doctype html><html><head><meta charset='utf-8'><title>Register</title><link href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css' rel='stylesheet'><link rel='stylesheet' href='assets/css/style.css'></head><body><div class='auth-card'><div class='card shadow-sm'><div class='card-body'><h3>Register (Tenant)</h3><?php if($err) echo "<div class='alert alert-danger'>".htmlspecialchars($err)."</div>"; if($succ) echo "<div class='alert alert-success'>".htmlspecialchars($succ)."</div>"; ?><form method='post'><input name='username' class='form-control mb-2' placeholder='Username' required><input type='password' name='password' class='form-control mb-2' placeholder='Password' required><input type='password' name='confirm' class='form-control mb-2' placeholder='Confirm' required><button class='btn btn-primary w-100'>Register</button></form><p class='mt-2'><a href='index.php'>Back to Login</a></p></div></div></div></body></html>